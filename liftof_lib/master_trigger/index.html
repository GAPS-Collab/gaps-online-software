<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="MasterTriggerBoard communications"><title>liftof_lib::master_trigger - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="liftof_lib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0 (aedd173a2 2024-03-17)" data-channel="1.77.0" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../liftof_lib/index.html">liftof_lib</a><span class="version">0.10.0</span></h2></div><h2 class="location"><a href="#">Module master_trigger</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate liftof_lib</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../liftof_lib/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">liftof_lib</a>::<wbr><a class="mod" href="#">master_trigger</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/liftof_lib/master_trigger.rs.html#1-782">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>MasterTriggerBoard communications</p>
<p>The MTB (MasterTriggerBoard) is currently
(Jan 2023) connected to the ethernet 
via UDP sockets and sends out its 
own datapackets per each triggered 
event.</p>
<p>The packet format contains the event id
as well as number of hits and a mask 
which encodes the hit channels.</p>
<p>The data is encoded in IPBus packets.
<a href="https://ipbus.web.cern.ch/doc/user/html/">see docs here</a></p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.MTBSettings.html" title="struct liftof_lib::master_trigger::MTBSettings">MTBSettings</a></div><div class="desc docblock-short">Configure the trigger</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.get_mtbmonidata.html" title="fn liftof_lib::master_trigger::get_mtbmonidata">get_mtbmonidata</a></div><div class="desc docblock-short">Gather monitoring data from the Mtb</div></li><li><div class="item-name"><a class="fn" href="fn.get_mtevent.html" title="fn liftof_lib::master_trigger::get_mtevent">get_mtevent</a></div><div class="desc docblock-short">Read the complete event of the MTB</div></li><li><div class="item-name"><a class="fn" href="fn.get_tiu_link_status.html" title="fn liftof_lib::master_trigger::get_tiu_link_status">get_tiu_link_status</a></div></li><li><div class="item-name"><a class="fn" href="fn.master_trigger.html" title="fn liftof_lib::master_trigger::master_trigger">master_trigger</a></div><div class="desc docblock-short">Communications with the master trigger over Udp</div></li><li><div class="item-name"><a class="fn" href="fn.read_event_cnt.html" title="fn liftof_lib::master_trigger::read_event_cnt">read_event_cnt</a></div><div class="desc docblock-short">Read event counter register of MTB</div></li><li><div class="item-name"><a class="fn" href="fn.reset_daq.html" title="fn liftof_lib::master_trigger::reset_daq">reset_daq</a></div><div class="desc docblock-short">Reset the state of the MTB DAQ buffer
This can be safely issued without 
resetting the event id</div></li><li><div class="item-name"><a class="fn" href="fn.set_any_trigger.html" title="fn liftof_lib::master_trigger::set_any_trigger">set_any_trigger</a></div><div class="desc docblock-short">Set the any trigger with a prescale</div></li><li><div class="item-name"><a class="fn" href="fn.set_central_track_trigger.html" title="fn liftof_lib::master_trigger::set_central_track_trigger">set_central_track_trigger</a></div><div class="desc docblock-short">Set the CENTRAL track trigger with a prescale</div></li><li><div class="item-name"><a class="fn" href="fn.set_gaps_trigger.html" title="fn liftof_lib::master_trigger::set_gaps_trigger">set_gaps_trigger</a></div><div class="desc docblock-short">Set the gaps trigger with a prescale</div></li><li><div class="item-name"><a class="fn" href="fn.set_poisson_trigger.html" title="fn liftof_lib::master_trigger::set_poisson_trigger">set_poisson_trigger</a></div><div class="desc docblock-short">Set the poisson trigger with a prescale</div></li><li><div class="item-name"><a class="fn" href="fn.set_rb_int_window.html" title="fn liftof_lib::master_trigger::set_rb_int_window">set_rb_int_window</a></div><div class="desc docblock-short">FIXME</div></li><li><div class="item-name"><a class="fn" href="fn.set_tiu_emulation_mode.html" title="fn liftof_lib::master_trigger::set_tiu_emulation_mode">set_tiu_emulation_mode</a></div><div class="desc docblock-short">The TIU emulation mode setting provides the possibility to run the 
TOF without tracker and active TIU. If data should be taken together
with the tracker, we should NOT use the emulation mode and this should
be set to false.</div></li><li><div class="item-name"><a class="fn" href="fn.set_trace_suppression.html" title="fn liftof_lib::master_trigger::set_trace_suppression">set_trace_suppression</a></div><div class="desc docblock-short">Set the RB readout mode - either 
read out all channels all the time
or use the MTB to indicate to the RBs
which channels to read out </div></li><li><div class="item-name"><a class="fn" href="fn.set_track_trigger.html" title="fn liftof_lib::master_trigger::set_track_trigger">set_track_trigger</a></div><div class="desc docblock-short">Set the track trigger with a prescale</div></li><li><div class="item-name"><a class="fn" href="fn.unset_all_triggers.html" title="fn liftof_lib::master_trigger::unset_all_triggers">unset_all_triggers</a></div><div class="desc docblock-short">Disable all triggers</div></li></ul></section></div></main></body></html>