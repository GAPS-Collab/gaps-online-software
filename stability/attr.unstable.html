<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Mark an API as unstable."><title>unstable in stability - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="stability" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../stability/index.html">stability</a><span class="version">0.1.1</span></h2></div><div class="sidebar-elems"></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Attribute Macro <a href="index.html">stability</a>::<wbr><a class="attr" href="#">unstable</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/stability/lib.rs.html#101-116">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>#[unstable]</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Mark an API as unstable.</p>
<p>You can apply this attribute to an item in your public API that you would
like to expose to users, but are not yet ready for general use. This is
useful when you want to let users try out some new functionality for an API
you haven’t finished testing or designing, or for whatever reason do not
want to commit any stability guarantees for.</p>
<p>This attribute does the following things to annotated items:</p>
<ul>
<li>Changes the visibility of the item from <code>pub</code> to <code>pub(crate)</code>, unless a
certain crate feature is enabled. This ensures that internal code within
the crate can always use the item, but downstream consumers cannot access
it unless they opt-in to the unstable API.</li>
<li>Appends an “Availability” section to the item’s documentation that notes
that the item is unstable, and indicates the name of the crate feature to
enable it.</li>
</ul>
<p>Note that unlike the <code>#[unstable]</code> attribute used <a href="https://rustc-dev-guide.rust-lang.org/stability.html">in the standard
library</a>, this
attribute does not apply itself recursively to child items.</p>
<p>Applying this attribute to non-<code>pub</code> items is pointless and does nothing.</p>
<h2 id="arguments"><a href="#arguments">Arguments</a></h2>
<p>The <code>unstable</code> attribute supports optional arguments that can be passed to
control its behavior.</p>
<ul>
<li><code>feature</code>: Specify the name of the unstable feature that should control
this item’s availability. The crate feature will have the string
<code>unstable-</code> prepended to it. If not specified, it will be guarded by a
catch-all <code>unstable</code> feature.</li>
</ul>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>We can apply the attribute to a public function like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="doccomment">/// This function does something really risky!
///
/// Don&#39;t use it yet!
</span><span class="attr">#[stability::unstable(feature = <span class="string">&quot;risky-function&quot;</span>)]
</span><span class="kw">pub fn </span>risky_function() {
    <span class="macro">unimplemented!</span>()
}</code></pre></div>
<p>This will essentially be expanded to the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="doccomment">/// This function does something really risky!
///
/// Don&#39;t use it yet!
///
/// # Availability
///
/// **This API is marked as unstable** and is only available when the
/// `unstable-risky-function` crate feature is enabled. This comes with no
/// stability guarantees, and could be changed or removed at any time.
</span><span class="attr">#[cfg(feature = <span class="string">&quot;unstable-risky-function&quot;</span>)]
</span><span class="kw">pub fn </span>risky_function() {
    <span class="macro">unimplemented!</span>()
}

<span class="doccomment">/// This function does something really risky!
///
/// Don&#39;t use it yet!
</span><span class="attr">#[cfg(not(feature = <span class="string">&quot;unstable-risky-function&quot;</span>))]
</span><span class="kw">pub</span>(<span class="kw">crate</span>) <span class="kw">fn </span>risky_function() {
    <span class="macro">unimplemented!</span>()
}</code></pre></div>
</div></details></section></div></main></body></html>