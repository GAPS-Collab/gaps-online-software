<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Transforms raw bytestream to TofPackets"><title>event_processing in liftof_rb::threads::event_processing - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="liftof_rb" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../liftof_rb/index.html">liftof_rb</a><span class="version">0.10.2</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In liftof_rb::threads::event_processing</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../../index.html">liftof_rb</a>::<wbr><a href="../index.html">threads</a>::<wbr><a href="index.html">event_processing</a>::<wbr><a class="fn" href="#">event_processing</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/liftof_rb/threads/event_processing.rs.html#73-355">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn event_processing(
    board_id: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>,
    bs_recv: &amp;<a class="struct" href="../../../crossbeam_channel/channel/struct.Receiver.html" title="struct crossbeam_channel::channel::Receiver">Receiver</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.u8.html">u8</a>&gt;&gt;,
    get_op_mode: &amp;<a class="struct" href="../../../crossbeam_channel/channel/struct.Receiver.html" title="struct crossbeam_channel::channel::Receiver">Receiver</a>&lt;<a class="enum" href="../../../tof_dataclasses/commands/enum.TofOperationMode.html" title="enum tof_dataclasses::commands::TofOperationMode">TofOperationMode</a>&gt;,
    tp_sender: &amp;<a class="struct" href="../../../crossbeam_channel/channel/struct.Sender.html" title="struct crossbeam_channel::channel::Sender">Sender</a>&lt;<a class="struct" href="../../../tof_dataclasses/packets/struct.TofPacket.html" title="struct tof_dataclasses::packets::TofPacket">TofPacket</a>&gt;,
    dtf_fr_runner: &amp;<a class="struct" href="../../../crossbeam_channel/channel/struct.Receiver.html" title="struct crossbeam_channel::channel::Receiver">Receiver</a>&lt;<a class="enum" href="../../../tof_dataclasses/events/data_type/enum.DataType.html" title="enum tof_dataclasses::events::data_type::DataType">DataType</a>&gt;,
    verbose: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a>,
    thread_control: <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="../../../liftof_lib/thread_control/struct.ThreadControl.html" title="struct liftof_lib::thread_control::ThreadControl">ThreadControl</a>&gt;&gt;,
    stat: <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.81.0/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="../../../liftof_lib/struct.RunStatistics.html" title="struct liftof_lib::RunStatistics">RunStatistics</a>&gt;&gt;,
    only_perfect_events: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.bool.html">bool</a>,
)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Transforms raw bytestream to TofPackets</p>
<p>This allows to get the eventid from the
binrary form of the RBEvent</p>
<p>#Arguments</p>
<ul>
<li>board_id            : The unique ReadoutBoard identifier
(ID) of this RB</li>
<li>bs_recv             : A receiver for bytestreams. The
bytestream comes directly from
the data buffers.</li>
<li>get_op_mode         : The TOF operation mode. Typically,
this is “Default”, meaning that the
RBs will sent what is in the memory
buffer translated into RBEvents.
In “RBHighThrougput” mode, it will not
translate them into RBEvents, but just
transmits the content of the buffers, and
RBWaveform mode will do waveform analysis
on the boards</li>
<li>tp_sender           : Send the resulting data product to
get processed further</li>
<li>data_type           : If different from 0, do some processing
on the data read from memory</li>
<li>verbose             : More output to the console for debugging</li>
<li>only_perfect_events : Only transmit events with EventStatus::Perfect.
This only applies when the op mode is not
RBHighThroughput</li>
</ul>
</div></details></section></div></main></body></html>